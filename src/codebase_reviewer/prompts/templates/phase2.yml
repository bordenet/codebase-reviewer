# Phase 2: Implementation Deep-Dive Prompt Templates
# These templates define prompts for code quality and implementation analysis

prompts:
  - id: "2.1"
    title: "Code Quality and Technical Debt Assessment"
    objective: "Assess code quality, identify technical debt, and security concerns"
    tasks:
      - "Review TODO/FIXME comments for patterns and urgency"
      - "Assess potential security issues (hardcoded secrets, etc.)"
      - "Identify areas with high technical debt"
      - "Evaluate error handling patterns"
      - "Assess code organization and modularity"
      - "Identify anti-patterns or code smells"
    deliverable: |
      **Code Quality Report**

      ## Technical Debt Summary
      - **Total Issues**: [Count]
      - **Critical**: [Count] - Immediate attention needed
      - **High**: [Count] - Address soon
      - **Medium**: [Count] - Plan for future sprint
      - **Low**: [Count] - Nice to have

      ## Issue Categories
      For each category, provide:
      - **Category**: [e.g., Security, Error Handling, Code Smells]
      - **Count**: [Number of issues]
      - **Severity**: [Critical/High/Medium/Low]
      - **Examples**: [Top 3 specific instances with file:line]
      - **Remediation**: [General approach to fix]

      ## Top Priority Issues
      1. **[Issue Title]**
         - **File**: `path/to/file.py:123`
         - **Severity**: Critical/High/Medium/Low
         - **Description**: [What's wrong]
         - **Impact**: [Why it matters]
         - **Fix**: [How to resolve]

      ## Code Smells & Anti-Patterns
      [List common patterns that should be refactored]

      ## Recommendations
      - **Quick Wins**: [Issues that can be fixed quickly]
      - **Refactoring Needed**: [Larger structural changes]
      - **Process Improvements**: [Prevent future issues]
    ai_model_hints:
      complexity: "high"
      requires_security_knowledge: true
    dependencies:
      - "1.1"
    context_requirements:
      - "todo_count"
      - "sample_todos"
      - "security_issues_count"
      - "sample_security_issues"

  - id: "2.2"
    title: "Logging and Observability Review"
    objective: "Evaluate logging practices and observability readiness"
    tasks:
      - "Assess logging coverage and consistency"
      - "Identify areas lacking proper error logging"
      - "Evaluate log levels and message quality"
      - "Check for structured logging practices"
      - "Assess monitoring and metrics instrumentation"
      - "Identify observability gaps"
    deliverable: "Observability assessment with gaps and recommendations"
    ai_model_hints:
      complexity: "medium"
      requires_devops_knowledge: true
    dependencies:
      - "1.1"
    context_requirements:
      - "repository_path"
