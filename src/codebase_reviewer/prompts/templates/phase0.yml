# Phase 0: Documentation Review Prompt Templates
# These templates define the structure and content for documentation analysis prompts

prompts:
  - id: "0.1"
    title: "README Analysis & Claims Extraction"
    objective: "Extract and catalog all claims about project architecture, features, and setup from the README"
    tasks:
      - "Identify the stated project purpose and scope"
      - "List all claimed technologies and frameworks"
      - "Extract documented architecture pattern (if any)"
      - "Note all setup/installation claims"
      - "Catalog documented features and capabilities"
      - "Identify any architectural diagrams or descriptions"
      - "Note what version of languages/frameworks are claimed"
    deliverable: |
      **README Analysis Report with Actionable Recommendations**

      ## Claimed Architecture & Features
      [Extract all architectural claims, features, and capabilities]

      ## Technology Stack Claims
      [List all claimed technologies with versions]

      ## Setup & Installation Claims
      [Document all setup instructions and prerequisites]

      ## Action Items

      ### ðŸ”´ CRITICAL: Validate Architecture Claims
      **Action**: Create architecture diagram and validate against actual code
      **Priority**: CRITICAL - Ensures documentation accuracy
      **Effort**: 2-4 hours

      **Step 1**: Create Mermaid diagram from README claims
      ```bash
      # File: docs/architecture/claimed_architecture.md
      cat > docs/architecture/claimed_architecture.md << 'EOF'
      # Claimed Architecture (from README)

      ```mermaid
      graph TD
          A[Component A] --> B[Component B]
          B --> C[Component C]
      ```
      EOF
      ```

      **Step 2**: Validate components exist in codebase
      ```bash
      # Search for claimed components
      find . -type f -name "*.py" -o -name "*.js" | xargs grep -l "ComponentName"
      ```

      **Success Criteria**:
      - [ ] Architecture diagram created
      - [ ] All claimed components verified in code
      - [ ] Discrepancies documented

      ### ðŸŸ  HIGH: Validate Workflow Claims
      **Action**: Test all documented workflows (CLI, Web UI, API)
      **Priority**: HIGH - Ensures user-facing docs are accurate
      **Effort**: 1-2 hours

      **Step 1**: Test CLI workflows
      ```bash
      # Test each documented CLI command
      python -m your_project --help
      python -m your_project command1 --test
      python -m your_project command2 --test
      ```

      **Step 2**: Test Web UI workflows (if claimed)
      ```bash
      # Start web server
      python -m your_project.web --port 8000

      # Test in browser: http://localhost:8000
      # Verify all documented features work
      ```

      **Success Criteria**:
      - [ ] All CLI commands work as documented
      - [ ] Web UI features match documentation
      - [ ] API endpoints respond correctly

      ### ðŸŸ¡ MEDIUM: Verify Technology Stack
      **Action**: Validate all claimed technologies are actually used
      **Priority**: MEDIUM - Prevents misleading documentation
      **Effort**: 30-60 minutes

      **Step 1**: Check dependencies
      ```bash
      # Python projects
      cat requirements.txt | grep -i "claimed_framework"

      # Node.js projects
      cat package.json | jq '.dependencies'

      # Check actual imports
      find . -name "*.py" | xargs grep "^import\|^from" | sort -u
      ```

      **Success Criteria**:
      - [ ] All claimed technologies found in dependencies
      - [ ] No major undocumented technologies
      - [ ] Version numbers match or are updated

      ## Verification Commands
      ```bash
      # Validate README claims
      python -m codebase_reviewer validate-readme .

      # Generate architecture diagram
      python -m codebase_reviewer generate-architecture-diagram .

      # Test all workflows
      python -m codebase_reviewer test-workflows .
      ```

      ## Priority Summary
      - ðŸ”´ **CRITICAL**: Architecture validation (2-4h) - **DO IMMEDIATELY**
      - ðŸŸ  **HIGH**: Workflow testing (1-2h) - **This week**
      - ðŸŸ¡ **MEDIUM**: Tech stack verification (30-60m) - **This sprint**

      **Total Effort**: ~4-7 hours
    ai_model_hints:
      complexity: "medium"
      requires_code_analysis: false
    dependencies: []
    context_requirements:
      - "readme_content"
      - "readme_path"
      - "total_docs_found"

  - id: "0.2"
    title: "Architecture Documentation Analysis"
    objective: "Understand the documented system architecture and design decisions"
    tasks:
      - "Identify the architectural style (monolith, microservices, etc.)"
      - "List all documented components and their responsibilities"
      - "Extract documented data flows and communication patterns"
      - "Note documented technology choices and rationale"
      - "Identify documented architectural constraints"
      - "Extract any documented architectural decision records (ADRs)"
    deliverable: "Comprehensive architectural understanding for validation against actual code"
    ai_model_hints:
      complexity: "high"
      requires_domain_knowledge: true
    dependencies:
      - "0.1"
    context_requirements:
      - "architecture_docs"
      - "doc_count"
      - "claimed_pattern"
    conditional: "has_architecture_docs"

  - id: "0.3"
    title: "Setup & Build Documentation Review"
    objective: "Understand the documented development workflow and prerequisites"
    tasks:
      - "List all documented prerequisite requirements (tools, versions, etc.)"
      - "Document the claimed build process step-by-step"
      - "Identify all mentioned environment variables and their purposes"
      - "Note deployment procedures if described"
      - "Identify testing instructions"
      - "Flag any missing or unclear setup steps"
    deliverable: "Development workflow checklist for validation against actual config files"
    ai_model_hints:
      complexity: "medium"
      requires_code_analysis: false
    dependencies:
      - "0.1"
    context_requirements:
      - "prerequisites"
      - "build_steps"
      - "environment_vars"
      - "documented_in"
    conditional: "has_setup_instructions"
